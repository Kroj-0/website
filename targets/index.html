<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yearly Work Targets Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/css/bootstrap-slider.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #343a40;
            color: #fff;
        }
        .slider-handle {
            background: #007bff;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            line-height: 30px;
            text-align: center;
            font-size: 14px;
            font-weight: bold;
            color: white;
        }
          
        .slider.slider-horizontal .slider-handle {
            top: -5px;
            padding-left: -7px;
        }
        .slider.slider-horizontal.slider-disabled .slider-handle {
            background-image: none !important;
            background-color: #007bff!important;
        }


        .custom-range::-webkit-slider-thumb {
            background: #007bff;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            line-height: 30px;
            text-align: center;
            font-size: 14px;
            font-weight: bold;
            color: white;
            -webkit-appearance: none;
        }
        .custom-range::-moz-range-thumb {
            background: #007bff;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            line-height: 30px;
            text-align: center;
            font-size: 14px;
            font-weight: bold;
            color: white;
        }

        .subtask-checkbox {
            pointer-events: none;
        }
        .slider {
            pointer-events: none;
        }

        .custom-progress {
            height: 40px; /* Change this value to set the desired progress bar height */
        }
        
        .custom-progress .progress-bar {
            font-size: 20px; /* Change this value to set the desired font size */
            line-height: 40px; /* Set the same value as the progress height to vertically align the text */
        }

    </style>
</head>
<body>

<div class="container">
    <h1 class="text-center mt-5">Yearly Work Targets Dashboard</h1>

    <div class="row mt-5">
        <div class="col-md-12">
            <h3 class="text-center">Bonus Earned</h3>
            <div class="progress mt-3 custom-progress">
                <div id="bonus-progress" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
        </div>
    </div>

    <div class="row mt-5">
        <div class="col-md-12">
            <h3>Tasks</h3>
            <table id="task-table" class="table table-dark table-striped mt-3">
                <thead>
                <tr>
                    <th scope="col" class="col-0">#</th>
                    <th scope="col" class="col-sm-4">Task</th>
                    <th scope="col" class="col-sm-3 text-center">Status</th>
                    <th scope="col" class="col-sm-3 text-center">Bonus</th>
                    <th scope="col" class="col-sm-3 text-center">Max</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th scope="row">0</th>
                    <td>Base Yearly Bonus</td>
                    <td class="text-center"><span class="badge badge-info">Granted</span></td>
                    <td class="text-center" >3000</td>
                    <td class="text-center" >3000</td>
                </tr>
                <tr id="task-1-row">
                    <th scope="row">1</th>
                    <td>Medium Tech Articles</td>
                    <td class="text-center"><span id="task-1-status" class="badge badge-danger">Not Started</span></td>
                    <td class="text-center"  id="task-1-bonus"></td>
                    <td class="text-center" >1000</td>
                </tr>
                <tr id="task-2-row">
                    <th scope="row">2</th>
                    <td>Certifications</td>
                    <td class="text-center"><span id="task-2-status" class="badge badge-danger">Not Started</span></td>
                    <td class="text-center"  id="task-2-bonus"></td>
                    <td class="text-center" >1600</td>
                </tr>
                <tr id="task-3-row">
                    <th scope="row">3</th>
                    <td>Marketing OpenAI-GPT</td>
                    <td class="text-center"><span id="task-3-status" class="badge badge-danger">Not Started</span></td>
                    <td class="text-center"  id="task-3-bonus"></td>
                    <td class="text-center" >2000</td>
                </tr>
                <tr>
                    <th scope="row"></th>
                    <td style="padding-left: 30px;">Follow-up Customers OpenAI-GPT</td>
                    <td class="text-center"><span id="task-3-1-status" class="badge badge-danger">Not Started</span></td>
                    <td class="text-center" id="task-3-1-bonus"></td>
                    <td class="text-center" >1000</td>
                </tr>
                <tr>
                    <th scope="row"></th>
                    <td style="padding-left: 30px;">Sales OpenAI-GPT</td>
                    <td class="text-center"><span id="task-3-2-status" class="badge badge-danger">Not Started</span></td>
                    <td class="text-center" id="task-3-2-bonus"></td>
                    <td class="text-center" >1000</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="row mt-5">
        <div class="col-md-6">
            <h3>Medium Tech Articles</h3>
            <table class="table table-dark table-striped mt-3">
                <thead>
                <tr>
                    <th class="text-center col-sm-3" scope="col">Total</th>
                    <th class="text-center col-sm-3" scope="col">BU</th>
                    <th class="text-center col-sm-1" scope="col">Completed</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td class="text-center"><input id="task-1-total-slider" class="slider task-1-slider" type="text" data-slider-min="0" data-slider-max="20" data-slider-step="1" data-slider-ticks="[0, 20]" data-slider-value="7" style="width: 80%;"></td>
                    <td class="text-center"><input id="task-1-bu-slider" class="slider task-1-slider" type="text" data-slider-min="0" data-slider-max="5" data-slider-step="1" data-slider-ticks="[0, 5]" data-slider-value="0" style="width: 80%;"></td>
                    <td class="text-center"><span id="task-1-completed" class="badge badge-danger">Not Started</span></td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="col-md-6">
            <h3>Certifications</h3>
            <table class="table table-dark table-striped mt-3">
                <thead>
                <tr>
                    <th class="col-sm-8 text-center" scope="col">Number</th>
                    <th scope="col-sm-4">Bonus for Each</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td class="text-center"><input id="task-2-number-slider" class="slider task-2-slider" type="text" data-slider-min="0" data-slider-max="2" data-slider-step="1" data-slider-ticks="[0, 1, 2]" data-slider-value="0" style="width: 80%;"></td>
                    <td>800</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="row mt-5">
        <div class="col-md-12">
            <h3>Marketing OpenAI-GPT</h3>
            <table id="subtask-table" class="table table-dark table-striped mt-3">
                <thead>
                <tr>
                    <th class="col-sm-1" scope="col">#</th>
                    <th class="col-sm-3" scope="col">Subtask</th>
                    <th class="col-sm-2" scope="col">Score</th>
                    <th class="col-sm-5 text-center" scope="col">Completed</th>
                </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">1</th>
                        <td>Conference speech (events, XChange)</td>
                        <td>50</td>
                        <td class="text-center">
                            <input id="subtask-1-slider" class="slider subtask-slider" type="text" data-slider-min="0" data-slider-max="5" data-slider-step="1" data-slider-ticks="[0, 5]" data-slider-value="1" style="width: 80%;">
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">2</th>
                        <td>Webinar</td>
                        <td>50</td>
                        <td class="text-center">
                            <input id="subtask-2-slider" class="slider subtask-slider" type="text" data-slider-min="0" data-slider-max="3" data-slider-step="1" data-slider-ticks="[0, 3]" data-slider-value="1" style="width: 80%;">
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">3</th>
                        <td>Editorial activity</td>
                        <td>40</td>
                        <td class="text-center"><input class="subtask-checkbox" type="checkbox"  style="transform: scale(1.5);"></td>
                    </tr>
                    <tr>
                        <th scope="row">4</th>
                        <td>Carousel LinkedIn</td>
                        <td>20</td>
                        <td class="text-center">
                            <input id="subtask-4-slider" class="slider subtask-slider" type="text" data-slider-min="0" data-slider-max="5" data-slider-step="1" data-slider-ticks="[0, 5]" data-slider-value="1" style="width: 80%;">
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">5</th>
                        <td>Medium Tech Blog Article</td>
                        <td>30</td>
                        <td class="text-center"><input id="subtask-5-slider" class="slider subtask-slider" type="text" data-slider-min="0" data-slider-max="3" data-slider-step="1" data-slider-ticks="[0, 3]" data-slider-value="0" style="width: 80%;"></td>
                    </tr>
                    <tr>
                        <th scope="row">5</th>
                        <td>Use case on website</td>
                        <td>30</td>
                        <td class="text-center"><input class="subtask-checkbox" type="checkbox"  style="transform: scale(1.5);"></td>
                    </tr>
                    <tr>
                        <th scope="row">6</th>
                        <td>Demo (eg. MegaCUBO)</td>
                        <td>60</td>
                        <td class="text-center"><input class="subtask-checkbox" type="checkbox"  checked style="transform: scale(1.5);"></td>
                    </tr>
                    <tr>
                        <th scope="row">7</th>
                        <td>Labcamp Reply</td>
                        <td>40</td>
                        <td class="text-center"><input id="subtask-7-slider" class="slider subtask-slider" type="text" data-slider-min="0" data-slider-max="3" data-slider-step="1" data-slider-ticks="[0, 3]" data-slider-value="0" style="width: 80%;"></td>
                    </tr>
                    <tr>
                        <th scope="row">8</th>
                        <td>ROSE Card</td>
                        <td>20</td>
                        <td class="text-center"><input class="subtask-checkbox" type="checkbox" style="transform: scale(1.5);"></td>
                    </tr>
                    <tr>
                        <th scope="row">9</th>
                        <td>LinkedIn Visibility</td>
                        <td>60</td>
                        <td class="text-center"><input class="subtask-checkbox" type="checkbox" style="transform: scale(1.5);"></td>
                    </tr>
                    <tr>
                        <th scope="row">10</th>
                        <td>Whitepaper</td>
                        <td>50</td>
                        <td class="text-center"><input class="subtask-checkbox" type="checkbox" style="transform: scale(1.5);"></td>
                    </tr>
                    <tr>
                        <th scope="row">11</th>
                        <td>Multiclient Workshop</td>
                        <td>60</td>
                        <td class="text-center"><input class="subtask-checkbox" type="checkbox" style="transform: scale(1.5);"></td>
                    </tr>
                    <tr>
                        <th scope="row">12</th>
                        <td>Blog External Vendor</td>
                        <td>50</td>
                        <td class="text-center"><input class="subtask-checkbox" type="checkbox" style="transform: scale(1.5);"></td>
                    </tr>
                    <tr>
                        <th scope="row">13</th>
                        <td>Accelerator External Vendor</td>
                        <td>50</td>
                        <td class="text-center"><input class="subtask-checkbox" type="checkbox" style="transform: scale(1.5);"></td>
                    </tr>
                    <tr>
                        <th scope="row">14</th>
                        <td>Marketplace External Vendor</td>
                        <td>30</td>
                        <td class="text-center"><input class="subtask-checkbox" type="checkbox" style="transform: scale(1.5);"></td>
                    </tr>
                    <tr>
                        <th scope="row">Total</th>
                        <td></td>
                        <td id="total-score"></td>
                        <td class="text-center"><span id="task-3-completed" class="badge badge-danger">Not Started</span></td>
                    </tr> 
                <!-- 
                <tr>
                    <th scope="row">1</th>
                    <td>Reply Rose Post</td>
                    <td>40</td>
                    <td class="text-center"><input class="subtask-checkbox" type="checkbox"  style="transform: scale(1.5);"></td>
                </tr>
                <tr>
                    <th scope="row">2</th>
                    <td>Webinar</td>
                    <td>30</td>
                    <td class="text-center"><input class="subtask-checkbox" type="checkbox" checked style="transform: scale(1.5);"></td>
                </tr>
                <tr>
                    <th scope="row">3</th>
                    <td>Exchange</td>
                    <td>80</td>
                    <td class="text-center"><input class="subtask-checkbox" type="checkbox" style="transform: scale(1.5);"></td>
                </tr>
                <tr>
                    <th scope="row">4</th>
                    <td>Carousel LinkedIn</td>
                    <td>20</td>
                    <td class="text-center">
                        <input id="subtask-4-slider" class="slider subtask-slider" type="text" data-slider-min="0" data-slider-max="5" data-slider-step="1" data-slider-ticks="[0, 1, 2, 3, 4, 5]" data-slider-value="1" style="width: 80%;">
                    </td>
                </tr>
                <tr>
                    <th scope="row">5</th>
                    <td>Medium Tech Blog Article</td>
                    <td>50</td>
                    <td class="text-center"><input id="subtask-5-slider" class="slider subtask-slider" type="text" data-slider-min="0" data-slider-max="3" data-slider-step="1" data-slider-ticks="[0, 1, 2, 3, 4, 5, 6, 7, 8]" data-slider-value="0" style="width: 80%;"></td>
                </tr>
                <tr>
                    <th scope="row">6</th>
                    <td>Events</td>
                    <td>40</td>
                    <td class="text-center"><input id="subtask-6-slider" class="slider subtask-slider" type="text" data-slider-min="0" data-slider-max="4" data-slider-step="1" data-slider-ticks="[0, 1, 2, 3, 4, 5, 6, 7, 8]" data-slider-value="1" style="width: 80%;"></td>
                </tr>
                <tr>
                    <th scope="row">Total</th>
                    <td></td>n
                    <td id="total-score"></td>
                    <td class="text-center"><span id="task-3-completed" class="badge badge-danger">Not Started</span></td>
                </tr> -->
                </tbody>
            </table>
        </div>
    </div>

    <div class="row mt-5">
        <div class="col-md-6">
            <h3>Follow-up Customers OpenAI-GPT</h3>
            <table class="table table-dark table-striped mt-3">
                <thead>
                <tr>
                    <th class="text-center col-sm-3" scope="col">Number</th>
                    <th class="text-center col-sm-1" scope="col">Completed</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td class="text-center"><input id="task-3-1-number-slider" class="slider task-3-1-slider" type="text" data-slider-min="0" data-slider-max="3" data-slider-step="1" data-slider-ticks="[0, 1, 2, 3]" data-slider-value="0" style="width: 80%;"></td>
                    <td class="text-center"><span id="task-3-1-completed" class="badge badge-danger">Not Started</span></td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="col-md-6">
            <h3>Sales OpenAI-GPT</h3>
            <table class="table table-dark table-striped mt-3">
                <thead>
                <tr>
                    <th class="text-center col-sm-3" scope="col">Project Started</th>
                    <th class="text-center col-sm-1" scope="col">Completed</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td class="text-center"><input class="task-3-2-checkbox" type="checkbox" style="transform: scale(1.5);"></td>
                    <td class="text-center"><span id="task-3-2-completed" class="badge badge-danger">Not Started</span></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/bootstrap-slider.min.js"></script>
<script>
    const arrayRange = (start, stop, step) =>
        Array.from(
        { length: (stop - start) / step + 1 },
        (value, index) => start + index * step
        );
    $(document).ready(function() {

        $(".slider").slider({
            tooltip: 'hide',
            //enabled: false
        });

        function updateSliderValuePos($slider) {
            var $sliderHandle = $slider.parent().children(".slider-horizontal").children(".slider-handle.min-slider-handle")
            var value = $slider.val();
            $sliderHandle.text(value);
        }
        $(".slider").each(function(){
            updateSliderValuePos($(this));
        });


        updateTaskStatuses();
        updateBonusProgress();

        $(".subtask-checkbox").on("change", function() {
            updateTask3Status();
            updateSliderValuePos($(this));
            updateBonusProgress();
        });

        $(".subtask-slider").on("slideStop", function() {
            updateTask3Status();
            updateSliderValuePos($(this));
            updateBonusProgress();
        });

        $(".task-1-slider").on("slideStop", function() {
            updateTask1Status();
            updateSliderValuePos($(this));
            updateBonusProgress();
        });

        $("#task-2-number-slider").on("slideStop", function() {
            updateTask2Status();
            updateSliderValuePos($(this));
            updateBonusProgress();
        });

        function updateTask1Status() {
            
            const totalSliderValue = $("#task-1-total-slider").slider("getValue");
            const buSliderValue = $("#task-1-bu-slider").slider("getValue");

            if (totalSliderValue === 20 && buSliderValue === 5) {
                $("#task-1-status").text("Completed").removeClass("badge-danger badge-warning").addClass("badge-success");
                $("#task-1-completed").text("Completed").removeClass("badge-danger badge-warning").addClass("badge-success");
                $("#task-1-bonus").text(1000);
            } else if (totalSliderValue > 0 || buSliderValue > 0) {
                $("#task-1-status").text("In Progress").removeClass("badge-danger badge-success").addClass("badge-warning");
                $("#task-1-completed").text("In Progress").removeClass("badge-danger badge-success").addClass("badge-warning");
                $("#task-1-bonus").text(0);
            } else {
                $("#task-1-status").text("Not Started").removeClass("badge-warning badge-success").addClass("badge-danger");
                $("#task-1-completed").text("Not Started").removeClass("badge-warning badge-success").addClass("badge-danger");
                $("#task-1-bonus").text(0);
            }
        }

        function updateTask2Status() {
            const numberSliderValue = $("#task-2-number-slider").slider("getValue");

            if (numberSliderValue === 2) {
                $("#task-2-status").text("Completed").removeClass("badge-danger badge-warning").addClass("badge-success");
                $("#task-2-bonus").text(1600);
            } else if (numberSliderValue === 1) {
                $("#task-2-status").text("In Progress").removeClass("badge-danger badge-success").addClass("badge-warning");
                $("#task-2-bonus").text(800);
            } else {
                $("#task-2-status").text("Not Started").removeClass("badge-warning badge-success").addClass("badge-danger");
                $("#task-2-bonus").text(0);
            }
        }

        function updateTask3Status() {
            let totalScore = 0;

            $(".subtask-checkbox").each(function() {
                if ($(this).is(":checked")) {
                    totalScore += parseInt($(this).closest("tr").find("td:nth-child(3)").text().trim());
                }
            });

            $(".subtask-slider").each(function() {
                totalScore += Math.sqrt($(this).slider('getValue')) * parseInt($(this).closest("tr").find("td:nth-child(3)").text().trim());
            });

            if (totalScore === 0) {
                $("#task-3-status").text("Not Started").removeClass("badge-warning badge-success").addClass("badge-danger");
                $("#task-3-completed").text("Not Started").removeClass("badge-warning badge-success").addClass("badge-danger");
                $("#task-3-bonus").text(0);
            } else if (totalScore < 200) {
                $("#task-3-status").text("In Progress").removeClass("badge-danger badge-success").addClass("badge-warning");
                $("#task-3-completed").text("In Progress").removeClass("badge-danger badge-success").addClass("badge-warning");
                $("#task-3-bonus").text(0);
            } else {
                $("#task-3-status").text("Completed").removeClass("badge-danger badge-warning").addClass("badge-success");
                $("#task-3-completed").text("Completed").removeClass("badge-danger badge-warning").addClass("badge-success");
                $("#task-3-bonus").text(2000);
            }

            totalScore = Math.round(totalScore)

            $("#total-score").text(totalScore+" / 200");
        }

        // task-3-1-number-slider
        // task-3-1-completed
        // task-3-2-checkbox
        // task-3-2-completed


        function updateTask31Status() {
            
            const numberSliderValue = $("#task-3-1-number-slider").slider("getValue");

            if (numberSliderValue === 3) {
                $("#task-3-1-status").text("Completed").removeClass("badge-danger badge-warning").addClass("badge-success");
                $("#task-3-1-completed").text("Completed").removeClass("badge-danger badge-warning").addClass("badge-success");
                $("#task-3-1-bonus").text(1000);
            } else if (numberSliderValue > 0) {
                $("#task-3-1-status").text("In Progress").removeClass("badge-danger badge-success").addClass("badge-warning");
                $("#task-3-1-completed").text("In Progress").removeClass("badge-danger badge-success").addClass("badge-warning");
                $("#task-3-1-bonus").text(0);
            } else {
                $("#task-3-1-status").text("Not Started").removeClass("badge-warning badge-success").addClass("badge-danger");
                $("#task-3-1-completed").text("Not Started").removeClass("badge-warning badge-success").addClass("badge-danger");
                $("#task-3-1-bonus").text(0);
            }
        }

        function updateTask32Status() {
            const done = $("#task-3-2-checkbox").is(":checked");

            if (done) {
                $("#task-3-2-status").text("Completed").removeClass("badge-danger badge-warning").addClass("badge-success");
                $("#task-3-2-bonus").text(1000);
            } else {
                $("#task-3-2-status").text("Not Started").removeClass("badge-warning badge-success").addClass("badge-danger");
                $("#task-3-2-bonus").text(0);
            }
        }

        function updateTaskStatuses() {
            updateTask1Status();
            updateTask2Status();
            updateTask3Status();
            updateTask31Status();
            updateTask32Status();
        }

        function updateBonusProgress() {
            let maxBonus = 0;
            let bonusEarned = 0;

            $("#task-table tbody tr").each(function() {
                const status = $(this).find(".badge").text().trim();
                const bonus = parseInt($(this).find("td:nth-child(5)").text().trim());
                const taskBonus = parseInt($(this).find("td:nth-child(4)").text().trim());

                maxBonus += bonus;

                if (["Completed", "Granted", "In Progress"].includes(status)) {
                    bonusEarned += taskBonus;
                }
            });

            const bonusPercentage = (bonusEarned / maxBonus) * 100;
            $("#bonus-progress").css("width", bonusPercentage + "%");
            $("#bonus-progress").attr("aria-valuenow", bonusPercentage);
            $("#bonus-progress").text(bonusEarned + " / " + maxBonus);
        }

        
        
    });
</script>
</body>
</html>